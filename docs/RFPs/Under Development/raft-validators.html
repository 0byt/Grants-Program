<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-docs/RFPs/Under Development/raft-validators">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">High-availability validator setup | Web3 Foundation Grants</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://grants.web3.foundation/docs/RFPs/Under Development/raft-validators"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="High-availability validator setup | Web3 Foundation Grants"><meta data-rh="true" name="description" content="Status:* Under Development"><meta data-rh="true" property="og:description" content="Status:* Under Development"><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://grants.web3.foundation/docs/RFPs/Under Development/raft-validators"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/docs/RFPs/Under Development/raft-validators" hreflang="en"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/docs/RFPs/Under Development/raft-validators" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9VKKGZO0U1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Web3 Foundation Grants" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.4bc56efa.css">
<link rel="preload" href="/assets/js/runtime~main.2c5489c8.js" as="script">
<link rel="preload" href="/assets/js/main.0f6f4c4d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#000;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Meet us at <a target="_blank" rel="noopener noreferrer" href="https://www.polkadot.network/ecosystem/events/sub0/">sub0</a>!</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Grants Program</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction">Introduction</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/applications">List of Grants</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/faq">FAQ</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Process/how-to-apply">Apply</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item sidebar-title">Basic Information</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/introduction">👋 Introduction</a><button aria-label="Toggle the collapsible sidebar category &#x27;👋 Introduction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/process">📝 Application Process</a><button aria-label="Toggle the collapsible sidebar category &#x27;📝 Application Process&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/maintenance">🛠️ Maintenance Grants</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item sidebar-title">In Depth</li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/help">💡 Help</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/faq">🙋 FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/suggesting">📬 Suggesting a Project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/referral-program">💰 Referral Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item sidebar-title">Beyond</li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/funding">🪙 Alternative Funding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contribute">🫶 Contribute</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/applications">📜 List of Grants</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/rfps">🪧 Requests for Proposal</a><button aria-label="Toggle the collapsible sidebar category &#x27;🪧 Requests for Proposal&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/RFPs/Closed/a-and-v-topology">Closed</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/RFPs/Open/ISO_20022">Open</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/RFPs/Under Development/IDE_for_ink_Smart_Contracts">Under Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/IDE_for_ink_Smart_Contracts">Browser based IDE for ink! Smart Contracts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/ISO_8583">RFP: ISO 8583</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/Static-Analysis-for-Runtime-Pallets">Static Analysis of Runtime Pallets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/alternative-polkadot-js-api-console">Alternative javascript console for Polkadot JS API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/alternative_polkadot_host_implementations">Alternative Polkadot Host Implementation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/analysis-website-and-data-platform">Analytics Website/Data Platform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/data_analysis_tools">Data Analysis Tools for Substrate-based Blockchains</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/decentralized-security-marketplace">Decentralized Security Marketplace</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/grant_management_webapp">Grant Management Web Application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/identity-directory">RFP: Substrate Identity Directory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/implementation-benchmarking">ink!/pallet/solidity performance benchmarking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/ink_smart_contract_block_explorer">RFP: ink! block explorer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/move_smart_contract_pallet">Move Smart Contract Pallet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/multi-chain-block-explorer">Multi-chain Block Explorer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/privacy-enhancement-polkadot-extension">Privacy Enhancement for Polkadot Extension</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/RFPs/Under Development/raft-validators">High-availability validator setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/scale-codec-comparator">SCALE Codec Comparator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/RFPs/Under Development/validator-selection-algorithm">RFP: Validator Selection Algorithm</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Support Docs/T&amp;Cs">🦮 Supporting Documents</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/rfps"><span itemprop="name">🪧 Requests for Proposal</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Under Development</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">High-availability validator setup</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>High-availability validator setup</h1><ul><li><strong>Status:</strong> <a href="https://github.com/w3f/Grants-Program/blob/master/applications/High_availability_validator_setup.md" target="_blank" rel="noopener noreferrer">Under Development</a></li><li><strong>Proposer:</strong> mmagician</li><li><strong>Projects you think this work could be useful for:</strong> Polkadot &amp; Kusama Validators</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-description-">Project Description 📄<a href="#project-description-" class="hash-link" aria-label="Direct link to Project Description 📄" title="Direct link to Project Description 📄">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h3><p>Validator leader selection via Raft consensus. Inspired by internal discussions &amp; <a href="https://kb.certus.one/validator_ha.html#active-active-validator" target="_blank" rel="noopener noreferrer">certus.one active-active validator setup</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="present-state">Present state<a href="#present-state" class="hash-link" aria-label="Direct link to Present state" title="Direct link to Present state">​</a></h3><p>Currently, the recommended setup is to have one active node per validator. The main advantage of this approach is that it removes the danger of equivocation, thus preventing slashing. The key drawback is the lack of a ready backup machine to takeover the responsibility of producing blocks, voting on finality etc. in case the primary one fails. </p><p>The drawback can be somewhat remedied by having a backup node in sync, but without access to the session keys necessary for authoring blocks. The process of replacing the keys, however, is manual. Furthermore, the session keys cannot be replaced mid-session and this introduces a time delay for when the validator is active again.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="solution">Solution<a href="#solution" class="hash-link" aria-label="Direct link to Solution" title="Direct link to Solution">​</a></h3><p>Rather than relying on one validator node to perform the work, what if we had multiple nodes equally capable of signing messages, yet still avoiding the risk of equivocation? The proposed approach relies on recognising a distinction between <strong>signing</strong> a message and <strong>submitting</strong> it. </p><p>Since all our validator nodes are trusted and we don&#x27;t worry about censorship resistance, we can leverage a leader-follower model to ensure high availibility. <a href="https://raft.github.io/" target="_blank" rel="noopener noreferrer">Raft</a> is a good candidate - it offers a simple consensus mechanism, fault-tolerance and performance. It ensures only one leader is ever in charge of interacting with the blockchain, while the followers simply receive the state updates and automatically replace the leader in case of a failure.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deliverables-">Deliverables 🔩<a href="#deliverables-" class="hash-link" aria-label="Direct link to Deliverables 🔩" title="Direct link to Deliverables 🔩">​</a></h2><ul><li><strong>Total Estimated Duration:</strong> 3 months</li><li><strong>Full-time equivalent (FTE):</strong> 1</li><li><strong>Total Costs:</strong> 30,000 DAI</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-1---block-production-poc">Milestone 1 - Block production PoC<a href="#milestone-1---block-production-poc" class="hash-link" aria-label="Direct link to Milestone 1 - Block production PoC" title="Direct link to Milestone 1 - Block production PoC">​</a></h3><p>The main goal of the PoC is to add a switch to the substrate node which allows it to decide whether it&#x27;s a valid block producer or not (i.e. to execute the BABE protocol).
The concept could be analogous to the <a href="https://github.com/paritytech/substrate/pull/7628" target="_blank" rel="noopener noreferrer">remote signing</a> feature, in that the node could reach out to an endpoint (local or remote) which tells it whether the node is allowed to author new blocks.</p><p>The service should contain only basic logic (e.g. return <code>true</code> for node0 and return <code>false</code> for node1 &amp; node2).</p><ul><li><strong>Estimated Duration:</strong> 1 month</li><li><strong>FTE:</strong> 1</li><li><strong>Costs:</strong> 10,000 DAI</li></ul><table><thead><tr><th>Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td>1.</td><td>Basic service</td><td>Create a microservice (to run locally or remotely) that accepts connections from the substrate node.</td></tr><tr><td>2.</td><td>Microservice logic</td><td>Hardcoded logic for deciding which node is the leader</td></tr><tr><td>3.</td><td>Update substrate client</td><td>Modify the substrate code to reach out to a remote service for receiving permission (or not) for submitting blocks</td></tr><tr><td>4.</td><td>Allow as optional</td><td>The choice of using an outside decision making agent for block submission should be configurable in the cli</td></tr><tr><td>5.</td><td>Integration test</td><td>A dockerised setup that allows to test the developed PoC</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-2---voting--liveness-poc">Milestone 2 - Voting &amp; liveness PoC<a href="#milestone-2---voting--liveness-poc" class="hash-link" aria-label="Direct link to Milestone 2 - Voting &amp; liveness PoC" title="Direct link to Milestone 2 - Voting &amp; liveness PoC">​</a></h3><p>Similar to the previous milestone, but concerning other validator jobs, namely voting on finalised blocks (GRANDPA) and communicating liveness (<code>I&#x27;m online</code>)</p><ul><li><strong>Estimated Duration:</strong> 2 weeks</li><li><strong>FTE:</strong> 1</li><li><strong>Costs:</strong> 5,000 DAI</li></ul><table><thead><tr><th>Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td>1.</td><td>Update substrate client - finalisation</td><td>Modify the substrate code to reach out to a remote service for receiving permission (or not) for submitting votes for finalised blocks (GRANDPA)</td></tr><tr><td>2.</td><td>Update substrate client - I&#x27;m online</td><td>Modify the substrate code to reach out to a remote service for receiving permission (or not) for submitting <code>I&#x27;m online</code> messages</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-3---raft-consensus">Milestone 3 - Raft consensus<a href="#milestone-3---raft-consensus" class="hash-link" aria-label="Direct link to Milestone 3 - Raft consensus" title="Direct link to Milestone 3 - Raft consensus">​</a></h3><p>Replace the dummy microservice with a Raft consensus mechanism, responsible for leader selection. </p><p>Each node should integrate a Raft client in its code. A good candidate is tikv-client. It should be able to push/receive information on what the latest authored block is (persistent data storage) &amp; act accordingly. </p><ul><li><strong>Estimated Duration:</strong> 1 month</li><li><strong>FTE:</strong> 1</li><li><strong>Costs:</strong> 10,000 DAI</li></ul><table><thead><tr><th>Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td>1.</td><td>Run the necessary Raft services</td><td>Add a key-value (or other) store binaries that follows a Raft consensus. They should run alongside the validator code</td></tr><tr><td>2.</td><td>Integrate a Raft client into the node</td><td>Extend the block submission logic to allow only Raft-selected leader as a valid block submitter</td></tr><tr><td>3.</td><td>Integration test</td><td>A dockerised setup that allows to test the Raft consensus mechanism</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-4---production-readiness">Milestone 4 - Production readiness<a href="#milestone-4---production-readiness" class="hash-link" aria-label="Direct link to Milestone 4 - Production readiness" title="Direct link to Milestone 4 - Production readiness">​</a></h3><p>Take the previous developments to a state where it&#x27;s ready to be deployed in production as part of a Polkadot/Kusama validator setup.</p><ul><li><strong>Estimated Duration:</strong> 2 weeks</li><li><strong>FTE:</strong> 1</li><li><strong>Costs:</strong> 5,000 DAI</li></ul><table><thead><tr><th>Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td>1.</td><td>Security</td><td>Make sure that a firewall and proper networking is in place</td></tr><tr><td>2.</td><td>Monitoring</td><td>Feed the Raft consensus data into Prometheus and display basic info in Grafana.</td></tr><tr><td>3.</td><td>Validator setup integration</td><td>Integrate the above into one of the validator-setup repositories (e.g. <a href="https://github.com/w3f/polkadot-secure-validator" target="_blank" rel="noopener noreferrer">https://github.com/w3f/polkadot-secure-validator</a>)</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-plans">Future plans<a href="#future-plans" class="hash-link" aria-label="Direct link to Future plans" title="Direct link to Future plans">​</a></h2><p>At some point, BABE will be replaced with Sassafras (see <a href="https://github.com/w3f/research-security-issues/issues/37" target="_blank" rel="noopener noreferrer">37</a> &amp; <a href="https://github.com/paritytech/substrate/pull/4600" target="_blank" rel="noopener noreferrer">4600</a>) which is likely going to affect the operation of the Raft consensus and thus should be addressed.</p><p>Furthermore, there are plans for developing additional mechanisms for validator slashing protection (see <a href="https://github.com/paritytech/substrate/issues/7398" target="_blank" rel="noopener noreferrer">7398</a>). In particular: </p><ul><li>the leader might need to perform an on-chain key registration upon being appointed.</li><li>followers never increment counters nor generate new tags (unless being promoted)</li></ul><p>This high availability setup, when adapted, should still make conceptual sense, because its main purpose is ensuring redundance and quick replacement of the main node &amp; as such will not interfere with the extended key registration proposed in the mentioned issue.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/w3f/Grants-Program/edit/master/docs/RFPs/Under Development/raft-validators.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/RFPs/Under Development/privacy-enhancement-polkadot-extension"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Privacy Enhancement for Polkadot Extension</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/RFPs/Under Development/scale-codec-comparator"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SCALE Codec Comparator</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-description-" class="table-of-contents__link toc-highlight">Project Description 📄</a><ul><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#present-state" class="table-of-contents__link toc-highlight">Present state</a></li><li><a href="#solution" class="table-of-contents__link toc-highlight">Solution</a></li></ul></li><li><a href="#deliverables-" class="table-of-contents__link toc-highlight">Deliverables 🔩</a><ul><li><a href="#milestone-1---block-production-poc" class="table-of-contents__link toc-highlight">Milestone 1 - Block production PoC</a></li><li><a href="#milestone-2---voting--liveness-poc" class="table-of-contents__link toc-highlight">Milestone 2 - Voting &amp; liveness PoC</a></li><li><a href="#milestone-3---raft-consensus" class="table-of-contents__link toc-highlight">Milestone 3 - Raft consensus</a></li><li><a href="#milestone-4---production-readiness" class="table-of-contents__link toc-highlight">Milestone 4 - Production readiness</a></li></ul></li><li><a href="#future-plans" class="table-of-contents__link toc-highlight">Future plans</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/w3f/Grants-Program" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Support Docs/privacy_policy">Privacy Policy</a></li><li class="footer__item"><a href="https://web3.foundation/legal-disclosures/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legal Disclosures</a></li></ul></div><div class="col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/!XpynPDLusWUWfDpaqr:matrix.org?via=web3.foundation&amp;via=matrix.org&amp;via=matrix.parity.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants Community Matrix Channel<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2023 Web3 Foundation</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2c5489c8.js"></script>
<script src="/assets/js/main.0f6f4c4d.js"></script>
</body>
</html>