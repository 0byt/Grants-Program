<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-applications/binary_merkle_tree">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Binary Merkle Tree | Web3 Foundation Grants</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://grants.web3.foundation/applications/binary_merkle_tree"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Binary Merkle Tree | Web3 Foundation Grants"><meta data-rh="true" name="description" content="- Team Name: ALPHA LABS FZCO"><meta data-rh="true" property="og:description" content="- Team Name: ALPHA LABS FZCO"><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://grants.web3.foundation/applications/binary_merkle_tree"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/binary_merkle_tree" hreflang="en"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/binary_merkle_tree" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9VKKGZO0U1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Web3 Foundation Grants" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.98f0198a.css">
<link rel="preload" href="/assets/js/runtime~main.23df0d80.js" as="script">
<link rel="preload" href="/assets/js/main.8acc84ff.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#000;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Watch our <a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/watch?v=8Na99WRGypY">sub0 presentation on Support in the Polkadot Ecosystem</a>!</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Grants Program</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/introduction">Introduction</a><a class="navbar__item navbar__link" href="/applications">List of Grants</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" href="/docs/Process/how-to-apply">Apply</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Binary Merkle Tree</h1><ul><li><strong>Team Name:</strong> ALPHA LABS FZCO</li><li><strong>Payment Address:</strong> 0x503b14fCcbAD63A1d6054D07f8B4685dCf5db7c3 (USDT ERC20)</li><li><strong><a href="https://github.com/w3f/Grants-Program/tree/master#level_slider-levels" target="_blank" rel="noopener noreferrer">Level</a>:</strong> 2</li><li><strong>Status:</strong> <a href="https://github.com/w3f/Grants-Program/pull/1179#issuecomment-1742345375" target="_blank" rel="noopener noreferrer">Terminated</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-overview-">Project Overview ðŸ“„<a href="#project-overview-" class="hash-link" aria-label="Direct link to Project Overview ðŸ“„" title="Direct link to Project Overview ðŸ“„">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h3><p>This project aims to introduce binary merkle tree&#x27;s as a first class citizen in substrate.  There is a large demand for the usage of binary merkle
tree&#x27;s, especially in the context on zero-knowledge circuits where substrate&#x27;s native patricia merkle tree is not well suited.  The demand
for the existence of binary merkle tree&#x27;s can be evidenced by reviewing grant applications, many of which are implementing
their own binary merkle tree on top of substrates native patricia merkle tree.  This is an inefficient solution and not production ready.  This project
will introduce binary merkle tree&#x27;s as a <a href="https://github.com/paritytech/substrate/blob/master/primitives/storage/src/lib.rs#L239-L245" target="_blank" rel="noopener noreferrer">child tree</a> such
that developers can create and interact with the binary merkle tree&#x27;s via a runtime api.  We are interested in delivering binary merkle tree&#x27;s such
that we can utilise them in the future for zero-knowledge focused substrate projects.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-details">Project Details<a href="#project-details" class="hash-link" aria-label="Direct link to Project Details" title="Direct link to Project Details">â€‹</a></h3><p>This project will contain two primary technical deliverables.  The first of which is a binary merkle tree implementation that operates over a
generic <a href="https://github.com/paritytech/trie/tree/master/hash-db" target="_blank" rel="noopener noreferrer">HashDB</a>.  The binary merkle tree implementation will include in-memory storage and
a recorder for recording tree accesses such that storage proofs can be created for inclusion in PoV blocks.  The second deliverable will be the
integration of the binary merkle tree into substrate as a child tree.  All deliverables of this project will be implemented in rust and will be no_std
compatible such that they can be integrated into substrate core.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="binary-merkle-tree-library">Binary Merkle Tree Library<a href="#binary-merkle-tree-library" class="hash-link" aria-label="Direct link to Binary Merkle Tree Library" title="Direct link to Binary Merkle Tree Library">â€‹</a></h4><p>In a similar fashion to the <a href="https://github.com/paritytech/trie/tree/master/trie-db" target="_blank" rel="noopener noreferrer">Trie implementation</a> the Tree will be generic over the hasher used.
There will be two DB structs, one for read-only access (TreeDB) and one for read / write access (TreeDBMut).  The storage field within the TreeDBMut
struct will be responsible for caching nodes in memory and also storing changes to nodes from inserts.  The changes will be committed to the db upon execution of
the commit method.  The recorder will be responsible for recording access to tree nodes such that a storage proof can be constructed to include in PoV blocks.  </p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub type DBValue = Vec&lt;u8&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub struct TreeDB&lt;&#x27;a, H: Hasher&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    db: &amp;&#x27;a dyn HashDB&lt;H, DBValue&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root: &amp;&#x27;a H::Out,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    depth: usize,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    recorder: Recorder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub trait Tree&lt;H: Hasher&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn root(&amp;self) -&gt; &amp;H::Out;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn depth (&amp;self) -&gt; usize;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn value(&amp;self, index: usize) -&gt; Result&lt;Option&lt;DBValue&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn leaf(&amp;self, index: usize) -&gt; Result&lt;Option&lt;DBValue&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn proof(&amp;self, index: usize) -&gt; Result&lt;Option&lt;Vec&lt;usize, DBValue&gt;&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub struct TreeDBMut&lt;&#x27;a, H: Hasher&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    db: &amp;&#x27;a mut dyn HashDB&lt;H::Out, DBValue&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    storage: BTreeMap&lt;usize, DBValue&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uncommitted: Vec&lt;usize&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root: &amp;&#x27;a mut H::Out,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    depth: usize,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    recorder: Recorder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub trait TreeMut&lt;H: Hasher&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn root(&amp;mut self) -&gt; &amp;H::Out;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn depth(&amp;self) -&gt; uszie;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn value(&amp;self, index: usize) -&gt; Result&lt;Option&lt;DBValue&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn leaf(&amp;self, index: usize) -&gt; Result&lt;Option&lt;DBValue&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn proof(&amp;self, index: usize) -&gt; Result&lt;Option&lt;Vec&lt;usize, DBValue&gt;&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn insert(&amp;mut self, index: usize, value: DBValue) -&gt; Result&lt;Option&lt;DBValue&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn remove(&amp;mut self, key: &amp;[u8]) -&gt; Result&lt;Option&lt;DBValue&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn commit(&amp;mut self);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub trait SparseTree&lt;H: Hasher&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn root(&amp;self) -&gt; &amp;H::Out;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn depth(&amp;self) -&gt; usize;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn value(&amp;self, key: &amp;[u8]) -&gt; Result&lt;Option&lt;DBValue&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn leaf(&amp;self, key: &amp;[u8]) -&gt; Result&lt;Option&lt;H::Out&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn proof(&amp;self, key: &amp;[u8]) -&gt; Result&lt;Option&lt;Vec&lt;DBValue&gt;&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub trait SparseTreeMut&lt;H: Hasher&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn root(&amp;mut self) -&gt; &amp;H::Out;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn depth(&amp;self) -&gt; usize;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn value(&amp;self, key: &amp;[u8]) -&gt; Result&lt;Option&lt;DBValue&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn leaf(&amp;self, key: &amp;[u8]) -&gt; Result&lt;Option&lt;H::Out&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn proof(&amp;self, key: &amp;[u8]) -&gt; Result&lt;Option&lt;Vec&lt;Node&lt;H&gt;&gt;&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn insert(&amp;mut self, key: &amp;[u8], value: DBValue) -&gt; Result&lt;Option&lt;DBValue&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn remove(&amp;mut self, key: &amp;[u8]) -&gt; Result&lt;Option&lt;DBValue&gt;, TreeError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn commit(&amp;mut self, key: &amp;[u8]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub struct Recorder&lt;H: Hasher&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  nodes: Vec&lt;H::Out&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub trait RecorderT&lt;H: Hasher&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fn record(&amp;self, access: H::Out);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="binary-merkle-tree-substrate-integration">Binary Merkle Tree Substrate Integration<a href="#binary-merkle-tree-substrate-integration" class="hash-link" aria-label="Direct link to Binary Merkle Tree Substrate Integration" title="Direct link to Binary Merkle Tree Substrate Integration">â€‹</a></h4><p>The following table specifies the files that will need to be modified in substrate to support the integration of the
binary merkle tree as a child tree.  As this is an internal additive change to substrate it will not require
modification of downstream repos.  This list represents our current understanding however it may not be comprehensive
and is likely to change as we proceed with the integration.</p><table><thead><tr><th>File</th></tr></thead><tbody><tr><td>primitives/state-machine/src/trie_backend.rs</td></tr><tr><td>primitives/state-machine/src/trie_backend_essence.rs</td></tr><tr><td>primitives/state-machine/src/ext.rs</td></tr><tr><td>primitives/state-machine/src/overlayed_changes</td></tr><tr><td>primitives/state-machine/src/backend.rs</td></tr><tr><td>primitives/state-machine/src/basic.rs</td></tr><tr><td>primitives/state-machine/src/read_only.rs</td></tr><tr><td>primitives/storage/src/lib.rs</td></tr><tr><td>primitives/trie/src/storage_proof.rs</td></tr><tr><td>primitives/trie/src/recorder.rs</td></tr><tr><td>primitives/trie/src/cache</td></tr><tr><td>primitives/io/src/lib.rs</td></tr><tr><td>primitives/externalities/src/lib.rs</td></tr><tr><td>primitives/runtime/src/lib.rs</td></tr><tr><td>primitives/tasks/src/async_externalities.rs</td></tr><tr><td>client/db/src/lib.rs</td></tr><tr><td>client/db/src/storage_cache.rs</td></tr><tr><td>client/api/src/backend.rs</td></tr><tr><td>client/api/src/in_mem.rs</td></tr><tr><td>client/api/src/proof_provider.rs</td></tr><tr><td>client/chain-spec/src/chain_spec.rs</td></tr><tr><td>client/network/sync/src/state.rs</td></tr><tr><td>client/network/light/src/light_client_requests/handler.rs</td></tr><tr><td>client/rpc/src/state/state_full.rs</td></tr><tr><td>client/service/src/chain_ops/export_raw_state.rs</td></tr><tr><td>client/service/src/client/client.rs</td></tr><tr><td>frame/state-trie-migration/src/lib.rs</td></tr><tr><td>frame/support/src/storage/child.rs</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_LWe7" id="runtime-interface">Runtime Interface<a href="#runtime-interface" class="hash-link" aria-label="Direct link to Runtime Interface" title="Direct link to Runtime Interface">â€‹</a></h5><p>The runtime will be able to access the binary merkle tree child storage via the following runtime interface.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#[runtime_interface]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub trait BinaryMerkleTreeChildStorage {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_leaf(&amp;self, storage_key: &amp;[u8], index: usize) -&gt; Option&lt;Vec&lt;u8&gt;&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_value(&amp;self, storage_key: &amp;[u8], index: usize) -&gt; Option&lt;Vec&lt;u8&gt;&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_proof(&amp;self, storage_key: &amp;[u8], index: usize) -&gt; Option&lt;Vec&lt;(usize, Vec&lt;u8&gt;)&gt;&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn set_value(&amp;mut self, storage_key: &amp;[u8], index: usize, value: &amp;[u8]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn clear(&amp;mut self, storage_key: &amp;[u8], index: usize);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn storage_kill(&amp;mut self, storage_key: &amp;[u8], _limit: Option&lt;u32&gt;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn root(&amp;mut self, storage_key: &amp;[u8]) -&gt; Vec&lt;u8&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ecosystem-fit">Ecosystem Fit<a href="#ecosystem-fit" class="hash-link" aria-label="Direct link to Ecosystem Fit" title="Direct link to Ecosystem Fit">â€‹</a></h3><p>This project will introduce a new storage structure to substrate as a child tree.  This will enable any project that builds
with substrate to have the ability to work with binary merkle trees.  It will be particularly useful for zero-knowledge projects
that require the usage of a binary merkle tree.  The target audience for this project is any team that is developing with substrate.<br>
<!-- -->This project will satisfy the demand for access to binary merkle trees in substrate. As it stands there are no similar projects
in the ecosystem however the demand for binary merkle trees is recognised.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="team-">Team ðŸ‘¥<a href="#team-" class="hash-link" aria-label="Direct link to Team ðŸ‘¥" title="Direct link to Team ðŸ‘¥">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-members">Team members<a href="#team-members" class="hash-link" aria-label="Direct link to Team members" title="Direct link to Team members">â€‹</a></h3><ul><li>Francesco Risitano - Project Lead / Software Engineer</li><li>Kin Chan (AKA: Simon Chan) - Software Engineer</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="contact">Contact<a href="#contact" class="hash-link" aria-label="Direct link to Contact" title="Direct link to Contact">â€‹</a></h3><ul><li><strong>Contact Name:</strong> Francesco Risitano</li><li><strong>Contact Email:</strong> <a href="mailto:francesco.risitano95@gmail.com" target="_blank" rel="noopener noreferrer">francesco.risitano95@gmail.com</a></li><li><strong>Website:</strong> N/A</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="legal-structure">Legal Structure<a href="#legal-structure" class="hash-link" aria-label="Direct link to Legal Structure" title="Direct link to Legal Structure">â€‹</a></h3><ul><li><strong>Registered Address:</strong> Dubai Silicon Oasis, DDP, Building A2, Dubai, United Arab Emirates</li><li><strong>Registered Legal Entity:</strong> ALPHA LABS FZCO</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="teams-experience">Team&#x27;s experience<a href="#teams-experience" class="hash-link" aria-label="Direct link to Team&#x27;s experience" title="Direct link to Team&#x27;s experience">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="francesco-risitano">Francesco Risitano<a href="#francesco-risitano" class="hash-link" aria-label="Direct link to Francesco Risitano" title="Direct link to Francesco Risitano">â€‹</a></h4><p>Francesco found his passion for complex systems and programming during his particle physics research at CERN where he developed
a machine learning algorithm concerned with particle identification at the ATLAS detector. He then transitioned to industry where he
worked at a telecommunications company applying machine learning models at scale for broadband network assurance and recommendation engines.
Following this he worked at a consultancy where he was the technical lead responsible for architecting and engineering a highly scalable event streaming solution
for government. In this role he was responsible for managing a technical team of 12 members. He gained significant experience across
enterprise architecture, engineering, devops, testing and project management. He then started contributing to open source blockchain projects and found himself
a part-time (evenings / weekends) role building a data oracle. Following this he transitioned full time to blockchain development where he built reef chain,
an EVM compatible substrate based chain. He is also a Mina genesis founding member and participated in Mina&#x27;s builders program to develop a POC layer 2 rollup based DEX. His
experience at Mina and REEF has fuelled his desire to bring more zero-knowledge technology to the substrate ecosystem and has now left his role at REEF
to focus on achieving this goal.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kin-chan">Kin Chan<a href="#kin-chan" class="hash-link" aria-label="Direct link to Kin Chan" title="Direct link to Kin Chan">â€‹</a></h4><p>Kin got his start in programming while modelling acoustic absorbers in MATLAB during his MEng dissertation at university. He then went on to work as a fulltime software engineer
at MirrorWeb, a web archiving startup, where he got his first taste and love for building complex distributed systems. He then moved
onto BJSS, an enterprise consultancy where he was placed on a project to build out the core systems for one of the world&#x27;s largest online betting platforms and run a Golang bootcamp
alongside to train people how to write highly concurrent and effective code. At present, Kin is working as a senior software engineer at Vonage, a cloud communications provider,
where he is developing a brand new, highly scalable, cloud development platform, which is already being used by some high profile clients. As of late, Kin has redirected his focus
towards blockchain and has been developing DeFi arbitrage bots in his spare time. Over his career, Kin has worked on a wide range of novel solutions to complex problems and is always
looking to solve the next big challenge.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-code-repos">Team Code Repos<a href="#team-code-repos" class="hash-link" aria-label="Direct link to Team Code Repos" title="Direct link to Team Code Repos">â€‹</a></h3><ul><li><a href="https://github.com/frisitano" target="_blank" rel="noopener noreferrer">https://github.com/frisitano</a></li><li><a href="https://github.com/kinluek" target="_blank" rel="noopener noreferrer">https://github.com/kinluek</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-linkedin-profiles">Team LinkedIn Profiles<a href="#team-linkedin-profiles" class="hash-link" aria-label="Direct link to Team LinkedIn Profiles" title="Direct link to Team LinkedIn Profiles">â€‹</a></h3><ul><li><a href="https://www.linkedin.com/in/francescorisitano/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/francescorisitano/</a></li><li><a href="https://www.linkedin.com/in/si-chan-66860610a/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/si-chan-66860610a/</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-status-">Development Status ðŸ“–<a href="#development-status-" class="hash-link" aria-label="Direct link to Development Status ðŸ“–" title="Direct link to Development Status ðŸ“–">â€‹</a></h2><p>The project has not started yet.  We have defined the requirements and designed the solution as described above in this note.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-roadmap-">Development Roadmap ðŸ”©<a href="#development-roadmap-" class="hash-link" aria-label="Direct link to Development Roadmap ðŸ”©" title="Direct link to Development Roadmap ðŸ”©">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview-1">Overview<a href="#overview-1" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h3><ul><li><strong>Total Estimated Duration:</strong> 3.5</li><li><strong>Full-Time Equivalent (FTE):</strong>  2</li><li><strong>Total Costs:</strong> 25,000 USDT</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-1---binary-merkle-tree-library">Milestone 1 - Binary Merkle Tree Library<a href="#milestone-1---binary-merkle-tree-library" class="hash-link" aria-label="Direct link to Milestone 1 - Binary Merkle Tree Library" title="Direct link to Milestone 1 - Binary Merkle Tree Library">â€‹</a></h3><ul><li><p><strong>Estimated duration:</strong> 1.5 month</p></li><li><p><strong>FTE:</strong>  2</p></li><li><p><strong>Costs:</strong> 10,000 USD</p></li><li><p><strong>Estimated extension required</strong> 2 weeks (as of 25/2/2023)</p></li></ul><table><thead><tr><th align="right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td align="right">0a.</td><td>License</td><td>Apache 2.0 / GPLv3 / MIT / Unlicense</td></tr><tr><td align="right">0b.</td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> that explains how a user can (for example) spin up one of our Substrate nodes and send test transactions, which will show how the new functionality works.</td></tr><tr><td align="right">0c.</td><td>Testing and Testing Guide</td><td>Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td align="right">0d.</td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.</td></tr><tr><td align="right">1.</td><td>Binary Mekrle Tree Library</td><td>We will create a binary merkle tree library that operates over a HashDB backend and is generic over the hasher.  It will implement the interfaces as described above in this note.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-2---integration-of-binary-merkle-tree-library-into-substrate">Milestone 2 - Integration of binary merkle tree library into substrate<a href="#milestone-2---integration-of-binary-merkle-tree-library-into-substrate" class="hash-link" aria-label="Direct link to Milestone 2 - Integration of binary merkle tree library into substrate" title="Direct link to Milestone 2 - Integration of binary merkle tree library into substrate">â€‹</a></h3><ul><li><p><strong>Estimated Duration:</strong> 2 month</p></li><li><p><strong>FTE:</strong>  2</p></li><li><p><strong>Costs:</strong> 15,000 USD</p></li><li><p><strong>Estimated extension required</strong> 2 months (following completion of milestone 1)</p></li></ul><table><thead><tr><th align="right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td align="right">0a.</td><td>License</td><td>Apache 2.0 / GPLv3 / MIT / Unlicense</td></tr><tr><td align="right">0b.</td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> that explains how a user can (for example) spin up one of our Substrate nodes and send test transactions, which will show how the new functionality works.</td></tr><tr><td align="right">0c.</td><td>Testing and Testing Guide</td><td>Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td align="right">0d.</td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.</td></tr><tr><td align="right">1.</td><td>Binary Mekrle Tree Substrate Integration</td><td>We will integrate the binary merkle tree library into substrate such that it can be used as a child tree.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-plans">Future Plans<a href="#future-plans" class="hash-link" aria-label="Direct link to Future Plans" title="Direct link to Future Plans">â€‹</a></h2><ul><li>We will promote the module to substrate developers via discord, telegram and element.</li><li>We are committed to maintaining the binary merkle tree library.</li><li>We will use the binary merkle tree child tree in future zero-knowledge based projects</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-information-">Additional Information âž•<a href="#additional-information-" class="hash-link" aria-label="Direct link to Additional Information âž•" title="Direct link to Additional Information âž•">â€‹</a></h2><p><strong>How did you hear about the Grants Program?</strong> Web3 Foundation Website</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/w3f/Grants-Program/edit/master/applications/binary_merkle_tree.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-overview-" class="table-of-contents__link toc-highlight">Project Overview ðŸ“„</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#project-details" class="table-of-contents__link toc-highlight">Project Details</a></li><li><a href="#ecosystem-fit" class="table-of-contents__link toc-highlight">Ecosystem Fit</a></li></ul></li><li><a href="#team-" class="table-of-contents__link toc-highlight">Team ðŸ‘¥</a><ul><li><a href="#team-members" class="table-of-contents__link toc-highlight">Team members</a></li><li><a href="#contact" class="table-of-contents__link toc-highlight">Contact</a></li><li><a href="#legal-structure" class="table-of-contents__link toc-highlight">Legal Structure</a></li><li><a href="#teams-experience" class="table-of-contents__link toc-highlight">Team&#39;s experience</a></li><li><a href="#team-code-repos" class="table-of-contents__link toc-highlight">Team Code Repos</a></li><li><a href="#team-linkedin-profiles" class="table-of-contents__link toc-highlight">Team LinkedIn Profiles</a></li></ul></li><li><a href="#development-status-" class="table-of-contents__link toc-highlight">Development Status ðŸ“–</a></li><li><a href="#development-roadmap-" class="table-of-contents__link toc-highlight">Development Roadmap ðŸ”©</a><ul><li><a href="#overview-1" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#milestone-1---binary-merkle-tree-library" class="table-of-contents__link toc-highlight">Milestone 1 - Binary Merkle Tree Library</a></li><li><a href="#milestone-2---integration-of-binary-merkle-tree-library-into-substrate" class="table-of-contents__link toc-highlight">Milestone 2 - Integration of binary merkle tree library into substrate</a></li></ul></li><li><a href="#future-plans" class="table-of-contents__link toc-highlight">Future Plans</a></li><li><a href="#additional-information-" class="table-of-contents__link toc-highlight">Additional Information âž•</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/w3f/Grants-Program" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Support Docs/privacy_policy">Privacy Policy</a></li><li class="footer__item"><a href="https://web3.foundation/legal-disclosures/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legal Disclosures</a></li></ul></div><div class="col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/!XpynPDLusWUWfDpaqr:matrix.org?via=web3.foundation&amp;via=matrix.org&amp;via=matrix.parity.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants Community Matrix Channel<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2023 Web3 Foundation</div></div></div></footer></div>
<script src="/assets/js/runtime~main.23df0d80.js"></script>
<script src="/assets/js/main.8acc84ff.js"></script>
</body>
</html>